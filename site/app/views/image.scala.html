@(
	imageId: Long,
	form: Form[controllers.Images.EditImageFormData] = controllers.Images.editImageForm
)(implicit flash: Flash, user: models.User)

@import views.nav._
@import models._
@import java.util.Date
@import java.text.DateFormat
@import java.util.Locale

<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>Edit Image</title>
		<script type="text/javascript" src="/assets/javascripts/jquery-1.8.1.js"></script>
		<script type="text/javascript" src="/assets/javascripts/edit.js"></script>
		<link rel="stylesheet" href="/assets/stylesheets/bootstrap.css" />
		<link rel="stylesheet" href="/assets/stylesheets/nav.css" />
		<link rel="stylesheet" href="/assets/stylesheets/image.css" />
</head>
<body>
@views.html.navBar(None, None)
	<div id="content" class="container">
		<div class="page-header">
			<h1>Image Information</h1>
			@flash.get("message").map { message =>
				<h5 class="red">
					@message
				</h5>
			}
		</div>
		<div class="well container">
				<img class="image" src="@StorageBackend().lookup("images", Image(imageId).path)">
				<form class="form-horizontal span6" action="/images/edit/@imageId" method="post" id="image_form">
					<div class="control-group">
						<label class="control-label" for="capture_time">Capture Time</label>
						<div class="controls">
							<input readonly type="text" id="capture_time" name="capture_time" value="@form("capture_time").value">
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="upload_time">Upload Time</label>
						<div class="controls">
							<input readonly type="text" id="upload_time" name="upload_time" value="@form("upload_time").value">
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="latitude">Latitude</label>
						<div class="controls">
							<input type="text" id="latitude" name="latitude" value="@form("latitude").value">
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="longitude">Longitude</label>
						<div class="controls">
							<input type="text" id="longitude" name="longitude" value="@form("longitude").value">
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="uploader">Uploader</label>
						<div class="controls">
							<input readonly type="text" id="uploader" name="uploader" value="@form("uploader").value">
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="notes">Notes</label>
						<div class="controls">
							<textarea rows="10" id="notes" name="notes">@form("notes").value</textarea>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="indicator">Damage Indicator</label>
						<div class="controls">
							<select selectedIndex="@form("indicator").value" name="indicator" id="indicator">
								<option value="0">None</option>
								@for(i<-DamageIndicator.all) {
									<option value="@i.id">@i.id - @i.description</option>
								}
							</select>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="degree">Degree of Damage</label>
						<div class="controls">
							<select selectedIndex="@form("degree").value" name="degree" id="degree">
								<option value="0">None</option>
							</select>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="onmap">On Map</label>
						<div class="controls">
							<input readonly type="text" id="onmap" name="onmap" value="@{!form("pending").value}">
						</div>
					</div>
					<button class="btn btn-success" type="submit">Save</button>
				</form>
		</div>
	</div>
</body>
</html>
